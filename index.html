<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/png" href="/MTY_C_b_round2_512.png" />

    <!-- 반응형 -->
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, viewport-fit=cover"
    />

    <!-- 라이트 모드 고정 -->
    <meta name="color-scheme" content="light" />
    <meta name="theme-color" content="#ffffff" />

    <!-- ✅ 여기부터 카톡/오픈그래프 썸네일 -->
    <meta property="og:type" content="website" />
    <meta property="og:site_name" content="C&KInsight" />
    <meta property="og:title" content="C&KInsight" />
    <meta
      property="og:description"
      content="From Concept to Clearance, We Deliver Insight"
    />
    <meta
      property="og:url"
      content="https://cnkinsight-homepage.vercel.app/"
    />
    <!-- 이미지 경로: public/og-ckinsight_v2.png 를 쓴다는 가정 + 캐시깨기용 v=2 -->
    <meta
      property="og:image"
      content="https://cnkinsight-homepage.vercel.app/og-ckinsight_v2.png"
    />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />

    <!-- 트위터 카드(카톡은 og만 봐도 되지만 넣어두면 좋음) -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="C&KInsight" />
    <meta
      name="twitter:description"
      content="From Concept to Clearance, We Deliver Insight"
    />
    <meta
      name="twitter:image"
      content="https://cnkinsight-homepage.vercel.app/og-ckinsight_v2.png"
    />

    <style>
      :root {
        color-scheme: light;
      }
      html {
        -webkit-text-size-adjust: 100%;
        text-size-adjust: 100%;
      }
      html,
      body {
        background: #ffffff;
        color: #111;
        width: 100%;
        max-width: 100%;
        overflow-x: hidden;
      }
      img,
      svg,
      picture,
      video,
      canvas {
        max-width: 100%;
        height: auto;
        filter: none !important;
        display: block;
      }
      .break-keep,
      body {
        word-break: keep-all;
      }
      * {
        box-sizing: border-box;
      }
    </style>

    <title>C&KInsight</title>

    <!-- 구글 폰트 -->
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap"
      rel="stylesheet"
    />

    <!-- ✅ KakaoTalk in-app → 브라우저 선택 창으로 열기 -->
    <script>
      (function () {
        var ua = navigator.userAgent || "";
        var isKakao = /KAKAOTALK/i.test(ua);
        var isAndroid = /Android/i.test(ua);
        var isIOS = /iPhone|iPad|iPod/i.test(ua);

        if (!isKakao) return;

        var ORIGIN = location.origin;
        var HOST = location.host;
        var PATH = location.pathname + location.search;
        var SCHEME = location.protocol.replace(":", "");

        function openExternal() {
          if (isAndroid) {
            var intent =
              "intent://" +
              HOST +
              PATH +
              "#Intent;scheme=" +
              SCHEME +
              ";action=android.intent.action.VIEW" +
              ";category=android.intent.category.BROWSABLE" +
              ";end";
            location.href = intent;
          } else if (isIOS) {
            location.href = ORIGIN + PATH;
          }
        }

        function attachBar() {
          if (document.getElementById("open-external-bar")) return;

          var bar = document.createElement("div");
          bar.id = "open-external-bar";
          bar.style.cssText =
            "position:fixed;left:12px;right:12px;bottom:16px;z-index:2147483647;" +
            "background:#111;color:#fff;padding:12px 14px;border-radius:12px;" +
            "box-shadow:0 6px 20px rgba(0,0,0,.2);display:flex;align-items:center;justify-content:space-between;" +
            "gap:12px;font-size:14px;line-height:1.3;";
          bar.innerHTML =
            "<span>카카오 인앱에서는 레이아웃이 깨질 수 있어요.</span>" +
            '<a id="open-external-btn" href="#" style="background:#D08700;color:#fff;padding:8px 12px;border-radius:9999px;text-decoration:none;white-space:nowrap;">외부 브라우저로 열기</a>';
          document.body.appendChild(bar);

          document
            .getElementById("open-external-btn")
            .addEventListener(
              "click",
              function (e) {
                e.preventDefault();
                openExternal();
              },
              { passive: false }
            );
        }

        function showFallbackBar() {
          if (document.readyState === "loading") {
            document.addEventListener("DOMContentLoaded", attachBar, {
              once: true,
            });
          } else {
            attachBar();
          }
        }

        openExternal();

        setTimeout(function () {
          if (document.visibilityState === "visible") showFallbackBar();
        }, 700);

        window.addEventListener("pageshow", function () {
          if (
            document.visibilityState === "visible" &&
            !document.getElementById("open-external-bar")
          ) {
            showFallbackBar();
          }
        });
      })();
    </script>
  </head>

  <body class="bg-white text-gray-900">
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
  </body>
</html>
